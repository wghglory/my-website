import gsap from 'gsap';
import {useEffect} from 'react';

export default function Sky({resolvedTheme}: {resolvedTheme: string}) {
  useEffect(() => {
    if (resolvedTheme === 'dark') {
      gsap
        .timeline({ease: 'back'})
        .from('#moon', {autoAlpha: 0})
        .from('#moon', {x: 80, rotate: -5, transformOrigin: '50% 50%', yoyo: true, repeat: -1, duration: 2}, '<')
        .from('#star path', {scale: 0, opacity: 0, stagger: 0.2, repeat: -1, yoyo: true}, 0.5);
    }
  }, [resolvedTheme]);

  return resolvedTheme === 'light' ? (
    <svg
      className="md:w-70 mt-[-30px] w-60 lg:w-80"
      viewBox="0 0 668 534"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      {/* sunshine */}
      <g opacity="0.48" filter="url(#sunshine)" className="sunshine">
        <path
          d="M160 371C160 254.468 254.468 160 371 160V160C487.532 160 582 254.468 582 371V374H160V371Z"
          fill="#FFD159"
        />
      </g>
      {/* sun */}
      <circle opacity="0.81" cx="388.075" cy="267.075" r="80.075" fill="#FFD159" className="sun" />
      <style jsx>
        {`
          @keyframes sunMove {
            from {
              opacity: 0.5;
              transform: scale(0.8);
            }
            to {
              opacity: 1;
              transform: scale(1);
            }
          }
          .sun {
            animation: 1s sunMove ease-out alternate infinite;
            transform-origin: center center;
            transform-box: fill-box;
          }

          @keyframes sunshineMove {
            from {
              opacity: 0.4;
              transform: scale(0.8);
            }
            to {
              opacity: 0.6;
              transform: scale(1);
            }
          }
          .sunshine {
            animation: 1s sunshineMove 0.2s ease-out alternate infinite;
            transform-origin: center center;
            transform-box: fill-box;
          }
        `}
      </style>
      <defs>
        <filter
          id="sunshine"
          x="0"
          y="0"
          width="742"
          height="534"
          filterUnits="userSpaceOnUse"
          colorInterpolationFilters="sRGB"
        >
          <feFlood floodOpacity="0" result="BackgroundImageFix" />
          <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape" />
          <feGaussianBlur stdDeviation="80" result="effect1_foregroundBlur_31_6306" />
        </filter>
      </defs>
    </svg>
  ) : (
    <svg className="mb-20 w-52 md:w-60 lg:w-72" viewBox="0 0 980 748" fill="none">
      <g id="moon" className="invisible">
        <g id="moon-body">
          <path
            d="M700.085 611.656C556.082 720.751 359.04 647.275 295.44 520.43C233.567 407.448 258.458 242 381.339 161.927C364.222 190.712 344.16 227.548 339.371 250.365C338.586 253.781 337.918 257.159 337.408 260.457C306 392.996 400.969 595.32 587.332 620.806C597.094 622.158 606.925 622.958 616.777 623.202C639.037 624.066 671.426 618.843 700.085 611.656Z"
            fill="white"
          />
          <path
            d="M700.085 611.656C660.82 672.533 600.636 716.928 530.891 736.462C461.147 755.996 386.667 749.318 321.508 717.687L318.406 716.195C314.952 714.467 311.575 712.7 308.238 710.894C307.139 710.344 306.079 709.715 305.019 709.126C300.818 706.731 296.696 704.296 292.652 701.743L289.983 700.016L287.863 698.641C286.842 698.013 285.861 697.345 284.879 696.678C281.935 694.753 279.029 692.75 276.242 690.63L275.457 690.08C274.554 689.452 273.651 688.745 272.787 688.077L270 686.271C265.838 683.051 261.795 679.83 257.947 676.453C257.084 675.778 256.259 675.057 255.474 674.293C198.587 625.676 162.037 549.726 156.266 488.974V487.992C150.078 439.647 155.901 390.521 173.219 344.963C190.537 299.406 218.816 258.821 255.552 226.802L255.866 226.488C275.732 209.048 297.898 194.421 321.743 183.015C338.87 174.836 356.718 168.263 375.058 163.38L381.339 161.77C220.376 274.987 225.244 520.352 394.805 622.22C395.355 622.613 395.904 622.927 396.493 623.28C399.163 624.93 401.95 626.54 404.816 628.15C510.973 683.836 620.86 668.835 700.085 611.656Z"
            fill="#E6E6E6"
          />
        </g>
        <g fill="#E6E6E6" id="moon-circles">
          <path d="M356.017 592.689C375.38 592.689 391.076 576.988 391.076 557.62C391.076 538.252 375.38 522.551 356.017 522.551C336.655 522.551 320.959 538.252 320.959 557.62C320.959 576.988 336.655 592.689 356.017 592.689Z" />
          <path d="M356.017 522.55C351.055 522.538 346.146 523.582 341.618 525.614C337.089 527.645 333.045 530.617 329.753 534.332C336.434 528.438 345.109 525.313 354.013 525.592C362.916 525.872 371.379 529.534 377.677 535.835C383.976 542.136 387.638 550.601 387.917 559.507C388.196 568.413 385.072 577.091 379.18 583.774C384.53 579.071 388.319 572.848 390.041 565.935C391.764 559.023 391.339 551.749 388.822 545.084C386.305 538.42 381.817 532.681 375.956 528.634C370.095 524.587 363.139 522.424 356.017 522.433V522.55Z" />
          <path d="M273.69 432.778C288.651 432.778 300.779 420.646 300.779 405.681C300.779 390.716 288.651 378.584 273.69 378.584C258.73 378.584 246.602 390.716 246.602 405.681C246.602 420.646 258.73 432.778 273.69 432.778Z" />
          <path d="M273.691 378.584C269.848 378.579 266.048 379.396 262.548 380.981C259.047 382.566 255.926 384.882 253.394 387.773C258.556 383.221 265.259 380.808 272.138 381.026C279.017 381.244 285.554 384.077 290.418 388.947C295.282 393.818 298.107 400.36 298.318 407.241C298.529 414.122 296.11 420.825 291.554 425.984C295.691 422.354 298.623 417.549 299.959 412.209C301.294 406.869 300.97 401.248 299.029 396.097C297.088 390.947 293.622 386.511 289.095 383.381C284.567 380.252 279.194 378.578 273.691 378.584V378.584Z" />
          <path d="M323 275.066C323 277.544 322.265 279.966 320.889 282.026C319.513 284.086 317.557 285.692 315.268 286.64C312.98 287.588 310.462 287.836 308.033 287.353C305.603 286.869 303.372 285.676 301.62 283.924C299.869 282.172 298.676 279.94 298.193 277.51C297.71 275.08 297.958 272.561 298.905 270.272C299.853 267.983 301.459 266.026 303.518 264.65C305.578 263.273 307.999 262.539 310.476 262.539C313.797 262.539 316.983 263.858 319.331 266.208C321.68 268.557 323 271.744 323 275.066Z" />
          <path d="M310.477 262.539C308.702 262.542 306.948 262.922 305.331 263.653C303.714 264.385 302.27 265.45 301.094 266.78C303.388 264.77 306.328 263.655 309.377 263.638C312.699 263.638 315.884 264.958 318.233 267.307C320.582 269.657 321.901 272.843 321.901 276.166C321.909 279.22 320.791 282.17 318.76 284.452C320.665 282.768 322.012 280.544 322.622 278.076C323.233 275.609 323.079 273.013 322.18 270.635C321.281 268.257 319.68 266.209 317.59 264.763C315.499 263.317 313.018 262.541 310.477 262.539Z" />
          <path d="M555.336 629.053C555.336 631.531 554.602 633.953 553.226 636.013C551.85 638.073 549.894 639.679 547.605 640.627C545.317 641.575 542.799 641.823 540.369 641.34C537.94 640.857 535.709 639.663 533.957 637.911C532.206 636.159 531.013 633.927 530.53 631.497C530.046 629.067 530.295 626.548 531.242 624.259C532.19 621.97 533.795 620.014 535.855 618.637C537.914 617.261 540.336 616.526 542.813 616.526C546.134 616.526 549.32 617.846 551.668 620.195C554.017 622.544 555.336 625.731 555.336 629.053V629.053Z" />
          <path d="M542.813 616.526C541.037 616.522 539.28 616.899 537.662 617.63C536.044 618.362 534.601 619.431 533.43 620.767C535.796 618.548 538.933 617.338 542.176 617.392C545.419 617.447 548.514 618.761 550.805 621.058C553.096 623.355 554.403 626.453 554.45 629.697C554.497 632.942 553.28 636.077 551.057 638.439C552.401 637.273 553.479 635.831 554.218 634.212C554.956 632.593 555.338 630.833 555.336 629.053C555.336 627.408 555.012 625.779 554.383 624.259C553.754 622.739 552.831 621.358 551.668 620.195C550.505 619.032 549.125 618.109 547.605 617.479C546.086 616.85 544.457 616.526 542.813 616.526V616.526Z" />
          <path d="M356.371 473.973C356.371 476.45 355.636 478.872 354.26 480.933C352.884 482.993 350.928 484.598 348.64 485.547C346.351 486.495 343.833 486.743 341.404 486.259C338.974 485.776 336.743 484.583 334.991 482.831C333.24 481.079 332.047 478.847 331.564 476.417C331.081 473.987 331.329 471.468 332.277 469.179C333.224 466.89 334.83 464.933 336.889 463.557C338.949 462.18 341.37 461.445 343.847 461.445C345.493 461.44 347.124 461.761 348.646 462.388C350.167 463.016 351.55 463.939 352.714 465.103C353.878 466.267 354.8 467.65 355.428 469.173C356.056 470.695 356.376 472.326 356.371 473.973Z" />
          <path d="M343.964 461.445C342.189 461.449 340.436 461.829 338.818 462.56C337.201 463.291 335.757 464.357 334.581 465.687C336.862 463.655 339.811 462.537 342.865 462.545C346.186 462.545 349.372 463.865 351.72 466.214C354.069 468.563 355.388 471.75 355.388 475.072C355.372 478.122 354.256 481.064 352.248 483.358C354.152 481.675 355.499 479.451 356.11 476.983C356.72 474.515 356.566 471.92 355.667 469.542C354.768 467.164 353.167 465.116 351.077 463.669C348.986 462.223 346.506 461.448 343.964 461.445V461.445Z" />
        </g>
      </g>
      <g id="star" fill="white">
        <path d="M553.923 249.108C544.344 251.189 542.655 252.838 540.575 262.46C538.494 252.838 536.649 251.189 527.227 249.108C536.806 247.026 538.494 245.181 540.575 235.716C542.655 245.338 544.344 247.026 553.923 249.108Z" />
        <path d="M41.6293 234.264C26.9856 237.405 24.4337 239.997 21.2537 254.645C18.0737 239.997 15.4826 237.405 0.838867 234.264C15.4826 231.083 18.0737 228.491 21.2537 213.843C24.4337 228.491 26.9856 231.083 41.6293 234.264Z" />
        <path d="M979.111 607.563C962.19 611.215 959.207 614.199 955.555 631.125C951.865 614.239 948.921 611.254 932 607.563C948.921 603.871 951.865 600.886 955.555 584C959.207 600.886 962.19 604.028 979.111 607.563Z" />
        <path d="M60.1785 728.575C46.8303 731.481 44.4749 733.837 41.6089 747.19C38.7038 733.837 36.3481 731.481 23 728.575C36.3481 725.669 38.7038 723.352 41.6089 710C44.5141 723.352 46.8303 725.669 60.1785 728.575Z" />
        <path d="M207.421 8.65251C201.571 9.90917 200.551 10.9302 199.294 16.7423C198.038 10.9302 197.017 9.90917 191.207 8.65251C197.017 7.39584 198.038 6.33552 199.294 0.523438C200.551 6.33552 201.571 7.39584 207.421 8.65251Z" />
        <path d="M890.696 50.3521C881.117 52.4334 879.429 54.2792 877.348 63.7042C875.267 54.1221 873.422 52.4334 864 50.3521C873.579 48.2707 875.267 46.425 877.348 37C879.429 46.5821 881.117 48.2707 890.696 50.3521Z" />
        <path d="M721.439 413.206C706.207 416.544 703.537 419.215 700.239 434.452C696.902 419.215 694.233 416.544 679 413.206C694.233 409.907 696.902 407.237 700.239 392C703.537 407.08 706.285 409.907 721.439 413.206Z" />
      </g>
    </svg>
  );
}
